## Виртуальная память
Раньше память была дорогая и нужно было как-то использовать несколько хранилищ, как одну монолитную структуру. Была придумана виртуальная память. 
Память выделяется страницами по 4 Кб. В виртуальной памяти нам кажется, что они идут друг за другом, однако каждая страница мапится с помощью Page Table. Сейчас используются 3-х уровневые Page Table, где на первом уровне байт Page Table указывает на другой Page Table и так пока не дойдет до страницы в физической памяти.
Если в оперативной памяти не хватает места, то страница выделяется на диске - это называется **swap**. Когда мы обращаемся к странице, и она оказывается на диске, она по определенному алгоритму идет в оперативную память вместо другой страницы. Этот алгоритм зависит от операционной системы, можно заменять самую неиспользуемую страницу или страницу, которая была создана раньше остальных с помощью очереди.
Если для адреса в виртуальной памяти нет соответствующей ему страницы, то происходит **Page fault** или **Segmentation fault** в си.
Указатель хранит в младших 12 битах отступ в странице физической памяти и дальше в каждые 9 бит номер страницы.